<!doctype html>
<html>

<head>
	<!-- Load plotly.js into the DOM -->
   <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>

</head>
<body>
     <h1 id='result'></h1>    
     <div id='chart'></div>
</body>


<footer>
    <!-- D3.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.6/d3.min.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <!-- Plotly.js -->
    <script src="https://d14fo0winaifog.cloudfront.net/plotly-basic.js"></script>


    <script type="text/javascript">
     
        var graphs = {{graphJSON|safe}};
        var data = graphs.data;
        var length = data.length ;
        var layout = graphs.layout;
        var info = {{info | safe}}; 
      
        document.getElementById('result').innerHTML='Total swap ='+info.count; 

        data.forEach(drawGraph);

        function drawGraph(item, index) {
                 var iDiv = document.createElement('div');
                 iDiv.id = 'graph'+index;
                 document.getElementById('chart').appendChild(iDiv);
                 console.log('item:', item);
                 Plotly.newPlot(iDiv.id, [item], layout || {}, {responsive: true});           
        }

   </script>
</footer>

</html>
